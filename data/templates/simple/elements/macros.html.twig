{% macro summary(collection, descriptor, title) %}
    {% import _self as self -%}
    {% set count = 0 %}
    {% if collection is not empty %}
        {% for index in collection %}
        {% if index.functions is not empty or index.constants is not empty or index.classes is not empty or index.interfaces is not empty or index.traits is not empty %}
                {% set count = count+1 %}
            {% endif %}
        {% endfor %}
    {% endif %}
    {% if count>0 %}
    <article class="{{title|lower}}">
        <h2>{{title}}</h2>
        <ul class="element">
            {% if title|lower == 'files' %}
                {% for index in collection|sortfqsen_asc %}
                    <li><a href="{{ link(index) }}">{{ index.path }}</a></li>
                {% endfor %}
            {% else %}
                {% if descriptor.functions is not empty or descriptor.constants is not empty or descriptor.classes is not empty or descriptor.interfaces is not empty or descriptor.traits is not empty %}
                    <li><a href="{{ link(descriptor) }}">{{ descriptor }}</a></li>
                {% endif %}
                {{ self.summaryList(descriptor.children) }}
            {% endif %}
        </ul>
    </article>
    {% endif %}
{% endmacro %}

{% macro summaryList(elements) %}
    {% import _self as self %}
    {% for element in elements|sort_asc %}
        {% if element.functions is not empty or element.constants is not empty or element.classes is not empty or element.interfaces is not empty or element.traits is not empty %}
            <li><a href="{{ link(element) }}">{{ element }}</a></li>
        {% endif %}
        {% if element.children is not empty %}
            {{ self.summaryList(element.children) }}
        {% endif %}
    {% endfor %}
{% endmacro %}